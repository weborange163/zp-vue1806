webpackJsonp([4],{Luci:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("mvHQ"),a=t.n(n);t("NYxO"),t("vLgD");var i=t("TIfe"),o={name:"login",data:function(){return{username:"",password:"",isLoging:!1,author:window.APP_INFO.author,version:window.APP_INFO.version,appName:window.APP_INFO.appName}},methods:{handleLogin:function(){var s=this;if(!this.username||!this.password)return this.$message.warning("用户名和密码不能为空");var e={username:this.username,password:this.password};this.$post("loginPT",e).then(function(e){if(0==e.code){s.isLoging=!0,Object(i.d)(e.data[0].tokenId),sessionStorage.setItem("nickname",e.data[0].name),console.log(e.data[0].menuList);var t=e.data[0].menuList;t.unshift({id:"0",label:"首页",name:"home",icon:"iconfont icon-index"}),sessionStorage.setItem("menus",a()(t)),s.$store.dispatch("saveUserInfo",e.data[0]).then(function(e){s.$message.success("登录成功"),s.isLoging=!1,s.$router.push({name:"home"})},function(e){s.$message.success(e.msg)}).catch(function(e){s.$message.success("登录异常")})}else s.$message.error("用户名或密码错误")})}}},r={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"fullscreen"},[t("div",{staticClass:"login-box"},[t("form",{staticClass:"login-form",attrs:{action:""}},[s._m(0),s._v(" "),t("div",{staticClass:"m-list-group",staticStyle:{"margin-top":"50px"}},[t("div",{staticClass:"m-list-group-item"},[t("i",{staticClass:"iconfont icon-user"}),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],staticClass:"m-input",attrs:{type:"text",placeholder:"Username"},domProps:{value:s.username},on:{input:function(e){e.target.composing||(s.username=e.target.value)}}})]),s._v(" "),t("div",{staticClass:"m-list-group-item"},[t("i",{staticClass:"iconfont icon-lock"}),s._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"m-input",attrs:{type:"password",placeholder:"Password"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}})])]),s._v(" "),t("button",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoging,expression:"isLoging"}],staticClass:"m-btn sub select-none",on:{click:function(e){e.preventDefault(),s.handleLogin(e)}}},[s._v("登录")])])])])},staticRenderFns:[function(){var s=this.$createElement,e=this._self._c||s;return e("p",{staticClass:"log_title"},[this._v("登录 "),e("span",[this._v("SING IN")])])}]};var c=t("VU/8")(o,r,!1,function(s){t("Zl31")},null,null);e.default=c.exports},Zl31:function(s,e){},mvHQ:function(s,e,t){s.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(s,e,t){var n=t("FeBl"),a=n.JSON||(n.JSON={stringify:JSON.stringify});s.exports=function(s){return a.stringify.apply(a,arguments)}}});
//# sourceMappingURL=4.ea6cb82ddef1eb1d5b80.js.map