webpackJsonp([43],{HNeG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i,l=a("bOdI"),o=a.n(l),n=a("TIfe"),r=(i={data:function(){return{quill:{width:420,border:!0,height:150,content:"wellcome ~",syncOutput:!0,theme:"snow",disabled:!1,full:!1,toolbar:[[{header:1},{header:2}],["bold","italic","underline","strike","link"]]},classifyTypes:"行情",status:"",form2:{title:"",content:"",userId:"1",imgType:"1",tagLabel:"",resource:"",source:"",type:[],desc:"",author:"",img:"",topFlag:"0",orderNum:"0"},bannerDialog:!1,baceUrl:"",editorOption:{},dialogImageUrl:"",dialogVisible:!1,classifyType:"",uploadData:{},value:"",imgFullSrc:"",imgSrc:""}},created:function(){this.baceUrl=Object(n.a)()},mounted:function(){var t=this;this.$get("/industry/get",{tokenId:this.$store.state.user.tokenId,id:this.$route.params.rowInfo.id}).then(function(e){console.log(e.data[0].industry),t.form2=e.data[0].industry,t.imgSrc=t.form2.showUrl,t.status=t.form2.status,t.classifyType=t.form2.classifyType,t.imgFullSrc=t.baceUrl+t.imgSrc;var a=t.classifyType;t.$get("/industryCategory/findIndustryCategoryList",{tokenId:t.$store.state.user.tokenId}).then(function(e){console.log(e.data),t.classifyType=e.data;for(var s=0;s<t.classifyType.length;s++)a==t.classifyType[s].id&&(t.value=t.classifyType[s].name)})}),document.getElementById("content").innerHTML=this.form2.content}},o()(i,"created",function(){this.baceUrl=Object(n.a)()}),o()(i,"methods",(s={top_flag1:function(t,e){var a=this;this.$confirm("确定要下线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={tokenId:a.$store.state.user.tokenId,id:a.$route.params.rowInfo.id,status:"6"};a.$post("/industry/save",t).then(function(t){a.$message({type:"success",message:"下线成功!"}),setTimeout(function(){a.$router.push({name:"market"})},1e3)})}).catch(function(){a.$message({type:"info",message:"下线失败"})})},top_flag2:function(t,e){var a=this;this.$confirm("确定上线吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={tokenId:a.$store.state.user.tokenId,id:a.$route.params.rowInfo.id,status:"5"};a.$post("/industry/save",t).then(function(t){a.$message({type:"success",message:"上线成功!"})})}).catch(function(){a.$message({type:"info",message:"上线失败"})})},uploadImg:function(t,e){var a=this,s=new FormData;s.append("file",t,t.name),this.$post("images/upload",s).then(function(t){var s=a.baceUrl+t.data[0].showUrl;e(s,"center")})},onEditorBlur:function(t){t.quill,t.html,t.text},getImgUrl:function(){this.imgFullSrc=this.baceUrl+this.imgSrc,console.log(this.imgSrc),console.log(this.imgFullSrc)},fileOver:function(){this.$message("只允许添加一张图片,如果替换请删除后再上传")}},o()(s,"onEditorBlur",function(t){console.log("editor blur!",t),console.log(this.form2.content)}),o()(s,"onEditorFocus",function(t){console.log("editor focus!",t)}),o()(s,"onEditorReady",function(t){console.log("editor ready!",t)}),o()(s,"onEditorChange",function(t){var e=t.val;console.log("editor change!",e)}),o()(s,"handleRemove",function(t,e){alert("删除"),console.log(t,e)}),o()(s,"handlePictureCardPreview",function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0,console.log(this.dialogImageUrl),alert("放大")}),o()(s,"cancelUp2",function(t,e){var a=this;this.$confirm("确定要提交审核吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={tokenId:a.$store.state.user.tokenId,id:e.id,status:"2"};a.$post("/industry/save",t).then(function(t){a.$message({type:"success",message:"提交成功!"}),a.getMarket()})}).catch(function(){a.$message({type:"info",message:"提交失败"})})}),o()(s,"watch",{$route:"getParams"}),s)),i),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-body"},[a("el-dialog",{attrs:{center:"",width:"375px",visible:t.bannerDialog,"append-to-body":"",id:"div1"},on:{"update:visible":function(e){t.bannerDialog=e}}},[a("el-form",{ref:"form2",staticClass:"form2",attrs:{data:t.form2,"label-width":"110px"}},[a("p",{attrs:{id:"p1"}},[t._v(t._s(t.form2.title))]),t._v(" "),a("p",{attrs:{id:"p2"},domProps:{innerHTML:t._s(t.form2.content)}})])],1),t._v(" "),a("div",{staticClass:"breadcrumb",staticStyle:{padding:"8px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("内容中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("行业信息")]),t._v(" "),a("el-breadcrumb-item",[t._v("添加行情")])],1)],1),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"text-right"},[a("el-button",{staticClass:"light_btn",attrs:{size:"small"},on:{click:function(e){t.$router.back()}}},[t._v("返回")]),t._v(" "),a("el-button",{staticClass:"light_btn",attrs:{size:"small"},on:{click:function(e){t.bannerDialog=!0}}},[t._v("预览")]),t._v(" "),"6"==t.status?a("el-button",{staticClass:"light_btn",staticStyle:{"margin-right":"8px","vertical-align":"middle"},attrs:{size:"small",type:"text"},nativeOn:{click:function(e){e.preventDefault(),t.top_flag2()}}},[t._v("上线")]):t._e(),t._v(" "),"5"==t.status?a("el-button",{staticClass:"light_btn",staticStyle:{"margin-right":"8px","vertical-align":"middle"},attrs:{size:"small",type:"text"},nativeOn:{click:function(e){e.preventDefault(),t.top_flag1()}}},[t._v("下线")]):t._e(),t._v(" "),"1"==t.status?a("el-button",{staticClass:"light_btn",staticStyle:{"margin-right":"8px","vertical-align":"middle"},attrs:{size:"small",type:"text"},nativeOn:{click:function(e){e.preventDefault(),t.cancelUp2()}}},[t._v("提交审核")]):t._e()],1),t._v(" "),a("el-form",{ref:"form2",staticClass:"up_form",attrs:{model:t.form2,"label-width":"80px"}},[a("div",{staticStyle:{width:"35%",float:"left",padding:"15px","margin-left":"5%","margin-right":"10%"}},[a("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[a("el-input",{attrs:{disabled:!0,placeholder:"请输入标题"},model:{value:t.form2.title,callback:function(e){t.$set(t.form2,"title",e)},expression:"form2.title"}})],1),t._v(" "),a("el-form-item",{staticClass:"editor",attrs:{label:"文章内容",prop:"content"}},[a("div",{staticClass:"ql-editor",attrs:{id:"content"},domProps:{innerHTML:t._s(t.form2.content)}})])],1),t._v(" "),a("div",{staticStyle:{width:"35%",float:"left",padding:"15px"}},[a("el-form-item",{attrs:{label:"发布到:"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.classifyTypes,callback:function(e){t.classifyTypes=e},expression:"classifyTypes"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属分类"}},[a("el-select",{attrs:{disabled:!0,name:"classifyType",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.classifyType,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"发布账号:",prop:"userId","label-width":"82"}},[a("el-select",{attrs:{disabled:!0,placeholder:"请选择发布账号"},model:{value:t.form2.userId,callback:function(e){t.$set(t.form2,"userId",e)},expression:"form2.userId"}},[a("el-option",{attrs:{label:"小号1",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"小号2",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"附加选项:",prop:"imgType","label-width":"82"}},[a("el-radio-group",{attrs:{disabled:!0},model:{value:t.form2.imgType,callback:function(e){t.$set(t.form2,"imgType",e)},expression:"form2.imgType"}},[a("el-radio",{attrs:{label:"1"}},[t._v("上传缩略图")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("提取第一个图为缩略图")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图"}},[a("img",{staticClass:"imgs",attrs:{src:t.imgFullSrc,alt:"封面图展示"}})]),t._v(" "),a("el-form-item",{attrs:{label:"Tag标签:"}},[a("el-input",{attrs:{disabled:!0,placeholder:"用逗号隔开，单个标签少于12字节"},model:{value:t.form2.tagLabel,callback:function(e){t.$set(t.form2,"tagLabel",e)},expression:"form2.tagLabel"}})],1)],1)])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(r,c,!1,function(t){a("hWkA")},null,null);e.default=u.exports},hWkA:function(t,e){}});
//# sourceMappingURL=43.1839882d7108b6e95985.js.map