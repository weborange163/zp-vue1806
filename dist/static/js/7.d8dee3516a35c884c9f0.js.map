{"version":3,"sources":["webpack:///src/pages/market-add.vue","webpack:///./src/pages/market-add.vue?185b","webpack:///./src/pages/market-add.vue"],"names":["market_add","header","required","message","trigger","min","max","Object","auth","_this","this","data","res","_this2","file","name","showUrl","_this3","valid","tokenId","status","title","userId","imgType","tagLabel","value","topFlag","orderNum","params","submit","_this4","quill","content","_ref","text","html","fileList","url","dialogImageUrl","_this5","then","_","back","done","catch","pages_market_add","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding","attrs","separator-class","to","path","_v","size","on","click","fanhui","$event","toAudit1","toAudit","ref","model","form2","label-width","rules","rules2","width","float","margin-left","margin-right","label","prop","placeholder","callback","$$v","$set","expression","getContent","onEditorChange","has-border","border","zIndex","sync-output","syncOutput","theme","disabled","fullscreen","full","upload","uploadImg","blur","onEditorBlur","_l","item","key","id","nickName","action","getFullUrl","uploadData","multiple","limit","list-type","auto-upload","on-preview","handlePictureCardPreview","on-exceed","fileOver","on-remove","handleRemove","visible","dialogVisible","update:visible","src","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.d8dee3516a35c884c9f0.js","sourcesContent":["<template>\r\n    <div class=\"page-body market_add\">\r\n        <div class=\"breadcrumb\" style=\"padding:8px;\">\r\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n                <el-breadcrumb-item :to=\"{ path: '/' }\">内容中心</el-breadcrumb-item>\r\n                <el-breadcrumb-item>行业信息</el-breadcrumb-item>\r\n                <el-breadcrumb-item>添加行情</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <div class=\"box\">\r\n            <div class=\"text-right\">\r\n                <el-button size=\"small\" @click=\"fanhui\" class=\"light_btn\">返回</el-button>\r\n                <el-button size=\"small\" class=\"light_btn\" @click=\"toAudit1('form2',1)\">仅保存</el-button>\r\n                <el-button size=\"small\" class=\"light_btn\" @click=\"toAudit('form2',2)\">保存并提交审核</el-button>\r\n            </div>\r\n            <el-form ref=\"form2\" :model=\"form2\" label-width=\"80px\" :rules=\"rules2\" class=\"up_form\">\r\n                <div style=\"width: 40%;float: left;padding:15px;margin-left:5%;margin-right:10%;\">\r\n                    <el-form-item label=\"文章标题\" prop=\"title\">\r\n                        <el-input v-model=\"form2.title\" placeholder=\"请输入标题\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"文章内容\" prop=\"content\" class=\"editor\">\r\n\t\t\t\t\t\t<m-quill-editor ref=\"myQuillEditor\" v-model=\"form2.content\"\r\n\t\t\t\t\t\t:width=\"quill.width\" :getContent=\"onEditorChange\"\r\n\t\t\t\t\t\t:has-border=\"quill.border\" :zIndex=\"quill.zIndex\"\r\n\t\t\t\t\t\t:sync-output=\"quill.syncOutput\"\r\n\t\t\t\t\t\t:theme=\"quill.theme\"\r\n\t\t\t\t\t\t:disabled=\"quill.disabled\"\r\n\t\t\t\t\t\t:fullscreen=\"quill.full\"\r\n\t\t\t\t\t\t@upload=\"uploadImg\" @blur=\"onEditorBlur($event)\"\r\n\t\t\t\t\t\t></m-quill-editor>\r\n\t\t\t\t\t</el-form-item>\r\n                </div>\r\n                <div style=\"width: 35%;float:left;padding:15px;\" prop=\"classifyType\">\r\n                    <el-form-item label=\"发布到:\">\r\n                        <el-input :disabled=\"true\" v-model=\"form2.classifyTypes\" style=\"width:173px;\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"所属分类\">\r\n\t\t\t\t\t\t<el-select v-model=\"value\" name=\"classifyType\" placeholder=\"请选择\">\r\n\t\t\t\t\t    <el-option\r\n\t\t\t\t\t      v-for=\"item in classifyType\"\r\n\t\t\t\t\t      :key=\"item.id\"\r\n\t\t\t\t\t      :label=\"item.name\"\r\n\t\t\t\t\t      :value=\"item.id\">\r\n\t\t\t\t\t    </el-option>\r\n\t\t\t\t\t  </el-select>\r\n\t\t\t\t\t</el-form-item>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n                   <el-form-item class=\"fabuStyle\" label=\"发布账号:\" prop=\"userId\" label-width=\"82\">\r\n\t\t\t\t\t\t<el-select v-model=\"form2.userId\" placeholder=\"请选择发布账号\">\r\n\t\t\t\t\t\t\t<el-option \r\n                v-for=\"item in accounts\"\r\n                :key=\"item.userId\"\r\n                :label=\"item.nickName\"\r\n                :value=\"item.userId\"\r\n              ></el-option>\r\n\t\t\t\t\t\t</el-select>\r\n\t\t\t\t\t</el-form-item>\r\n                    \r\n                    \r\n                    \r\n                    \r\n                    <el-form-item label=\"附加选项:\" prop=\"imgType\" label-width=\"82\">\r\n                        <el-radio-group v-model=\"form2.imgType\">\r\n                            <el-radio label=\"1\">上传缩略图</el-radio>\r\n                            <el-radio label=\"2\">提取第一个图为缩略图</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <!--上传图片-->\r\n                    <el-form-item label=\"封面图\" required>\r\n                        <el-upload ref=\"upload\" :action=\"getFullUrl()\" name=\"newsFile\" :data=\"uploadData\" :multiple=\"false\" :limit='1' \r\n\t\t\t\t\t\t\t\t\t\t\t\tlist-type=\"picture-card\" :auto-upload=\"false\"   :on-preview=\"handlePictureCardPreview\" :on-exceed=\"fileOver\" :on-remove=\"handleRemove\">\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </el-upload>\r\n                        <el-dialog :visible.sync=\"dialogVisible\">\r\n                            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                        </el-dialog>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"Tag标签:\">\r\n                        <el-input placeholder=\"用逗号隔开，单个标签少于12字节\" v-model=\"form2.tagLabel\"></el-input>\r\n                    </el-form-item>\r\n                    <!--<el-form-item label=\"关键词:\">\r\n        \t\t\t\t\t\t\t<el-input placeholder=\"用英文 “ , ” 隔开\"></el-input>\r\n        \t\t\t\t\t\t</el-form-item>-->\r\n                </div>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getBaceUrl } from '@/utils/auth'\r\nexport default {\r\n    data() {\r\n        return {\r\n        \t accounts:[],\r\n        \t  quill: {\r\n        width: 420,\r\n\t\t\t\tborder: true,\r\n\t\t\t\theight:150,\r\n\t\t\t\tzIndex:101,\r\n        content: 'wellcome ~',\r\n        syncOutput: true,\r\n        theme: 'snow', //bubble snow\r\n        disabled: false,\r\n        full: false,\r\n        toolbar: [\r\n          [{ 'header': 1 }, { 'header': 2 }],\r\n          ['bold', 'italic', 'underline', 'strike', 'link']\r\n        ]\r\n      },\r\n\t\t\t\t\t\tbaceUrl:'',\r\n            // url: 'http://192.168.1.91:8080/industry/save',\r\n            // 上传图片\r\n            editorOption: {},\r\n            dialogImageUrl: '',\r\n            dialogVisible: false,\r\n            classifyType:'',\r\n            classifyType1:'',\r\n            \r\n            form2: {\r\n                title: '',\r\n                content: '',\r\n                classifyTypes: '行情',\r\n                userId: '',\r\n                imgType: '1',\r\n                tagLabel: '',\r\n                resource: '',\r\n                source:'',\r\n                type: [],\r\n                desc: '',\r\n                author: '',\r\n                img: '',\r\n                //未置顶\r\n                topFlag:'0',\r\n//              排序\r\n                orderNum:'0'\r\n\r\n                \r\n            },\r\n            uploadData: {},\r\n//\t            options: [{\r\n//\t          value: '选项1',\r\n//\t          label: '黄金糕'\r\n//\t        }, {\r\n//\t          value: '选项2',\r\n//\t          label: '双皮奶'\r\n//\t        }, {\r\n//\t          value: '选项3',\r\n//\t          label: '蚵仔煎'\r\n//\t        }, {\r\n//\t          value: '选项4',\r\n//\t          label: '龙须面'\r\n//\t        }, {\r\n//\t          value: '选项5',\r\n//\t          label: '北京烤鸭'\r\n//\t        }],\r\n\t        value: '',\r\n            rules2: {\r\n                title: [\r\n                    { required: true, message: '请输入标题', trigger: 'blur' },\r\n                    { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' }\r\n                ],\r\n                content: [\r\n                    { required: true, message: '请输入内容', trigger: 'change' }\r\n                ],\r\n//              classifyType: [\r\n//                  { required: true, message: '请输入内容', trigger: 'change' }\r\n//              ],\r\n                userId: [\r\n                    { required: true, message: '请选择发布账号', trigger: 'change' }\r\n                ],\r\n                imgType: [\r\n                    { required: true, message: '请选择图片', trigger: 'change' }\r\n                ],\r\n                resource: [\r\n                    { required: true, message: '请选择活动资源', trigger: 'change' }\r\n                ],\r\n                desc: [\r\n                    { required: true, message: '请填写活动形式', trigger: 'blur' }\r\n                ],\r\n                 source: [\r\n            { required: true, message: '请选择活动资源', trigger: 'change' }\r\n          ]\r\n            }  \r\n            \r\n        };\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.baceUrl = getBaceUrl();\r\n\t\t\t// console.log(this.baceUrl)\r\n\t\t\t\r\n\t\t},\r\n    mounted() {\r\n    \tthis.$get('/industryCategory/findIndustryCategoryList',{tokenId:this.$store.state.user.tokenId}).then(res => {\r\n    \t\tconsole.log(res.data)\r\n    \t\tthis.classifyType = res.data\r\n    \t});\r\n    \t this.$post('members/findByLevel',{tokenId:this.$store.state.user.tokenId,levelCode:100002}).then(res => {\r\n        console.log(res)\r\n        this.accounts = res.data;\r\n      })\r\n    \t\r\n        // console.log(222222, this.$store.state.user, sessionStorage.getItem('tokenId'));\r\n    },\r\n    methods: {\r\n    \t// 富文本图片上传\r\n\t\t\tuploadImg(file,insert){\r\n\t\t\t\tconsole.log(file)\r\n\t\t\t\tlet params = new FormData(); // 创建form对象\r\n\t\t\t\tparams.append('file',file,file.name);\r\n\t\t\t\t// params.append('name',file.name);\r\n\t\t\t\tconsole.log(file.name)\r\n\t\t\t\t\r\n\t\t\t\tthis.$post('images/upload',params).then(res => {\r\n\t\t\t\t\tlet url = this.baceUrl + res.data[0].showUrl;\r\n\t\t\t\t\t// console.log(url)\r\n\t\t\t\t\tinsert(url, 'center')\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetFullUrl(){\r\n\t\t\t\tconsole.log(this.baceUrl+'/industry/save')\r\n\t\t\t\treturn (this.baceUrl+'/industry/save')\r\n\t\t\t},\r\n\t\t\tfileOver(){\r\n\t\t\t\tthis.$message('只允许添加一张图片,如果替换请删除后再上传');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//仅保存\r\n\t\t\ttoAudit1(formName, status) {\r\n\t\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\t\t\tconsole.log(valid);\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.user.tokenId);\r\n\t\t\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\t\t\t\ttokenId: this.$store.state.user.tokenId,\r\n\t\t\t\t\t\t\t\t\t\t\tstatus: status,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: this.form2.title,\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: this.form2.content,\r\n//\t\t\t\t\t\t\t\t\t\t\tclassifyType: this.form2.classifyType,\r\n\t\t\t\t\t\t\t\t\t\t\tuserId: this.form2.userId,\r\n\t\t\t\t\t\t\t\t\t\t\timgType: this.form2.imgType,\r\n\t\t\t\t\t\t\t\t\t\t\ttagLabel: this.form2.tagLabel,\r\n\t\t\t\t\t\t\t\t\t\t\tpublishSource:'1',\r\n\t\t\t\t\t\t\t\t\t\t\tclassifyType:this.value,\r\n\t\t\t\t\t\t\t\t\t\t\ttopFlag:this.form2.topFlag,\r\n\t\t\t\t\t\t\t\t\t\t\torderNum:this.form2.orderNum\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tthis.uploadData = params;\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$refs.upload.submit();\r\n\t\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: '添加成功!'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push({name: 'market'});\r\n\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\t\t\t// console.log(params)\r\n//\t\t\t\t\t\t\t\t\t this.$post('industry/save', params).then(res => {\r\n//\t\t\t\t\t\t\t\t\t     if (res.code === 0) {\r\n//\t\t\t\t\t\t\t\t\t         console.log(1111111, res);\r\n//\t\t\t\t\t\t\t\t\t     }\r\n//\t\t\t\t\t\t\t\t\t });\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoAudit(formName, status) {\r\n\t\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\t\t\tconsole.log(valid);\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.user.tokenId);\r\n\t\t\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t\t\t\tvar params = {\r\n\t\t\t\t\t\t\t\t\t\t\ttokenId: this.$store.state.user.tokenId,\r\n\t\t\t\t\t\t\t\t\t\t\tstatus: '2',\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: this.form2.title,\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: this.form2.content,\r\n//\t\t\t\t\t\t\t\t\t\t\tclassifyType: this.form2.classifyType,\r\n\t\t\t\t\t\t\t\t\t\t\tuserId: this.form2.userId,\r\n\t\t\t\t\t\t\t\t\t\t\timgType: this.form2.imgType,\r\n\t\t\t\t\t\t\t\t\t\t\ttagLabel: this.form2.tagLabel,\r\n\t\t\t\t\t\t\t\t\t\t\tpublishSource:'1',\r\n\t\t\t\t\t\t\t\t\t\t\tclassifyType:this.value,\r\n\t\t\t\t\t\t\t\t\t\t\ttopFlag:this.form2.topFlag,\r\n\t\t\t\t\t\t\t\t\t\t\torderNum:this.form2.orderNum\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tthis.uploadData = params;\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$refs.upload.submit();\r\n\t\t\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\t\tmessage: '添加成功!'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$router.push({name: 'market'});\r\n\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t\t\t\t\t// console.log(params)\r\n//\t\t\t\t\t\t\t\t\t this.$post('industry/save', params).then(res => {\r\n//\t\t\t\t\t\t\t\t\t     if (res.code === 0) {\r\n//\t\t\t\t\t\t\t\t\t         console.log(1111111, res);\r\n//\t\t\t\t\t\t\t\t\t     }\r\n//\t\t\t\t\t\t\t\t\t });\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn true;\r\n\t\t\t},\r\n\t\t\t\t//图片的验证\r\n//\t\t\tfileChange(file,fileList){\r\n//      this.$refs['icon'].clearValidate(); // 图片验证\r\n//      this.form1.filename = file.name;\r\n//      this.form1.newsFile = file.raw;\r\n//\t\t\t\t// console.log(file)\r\n//\t\t\t\tif(fileList.length>0){\r\n//\t\t\t\t\tthis.hasFmt = true;\r\n//\t\t\t\t}\r\n//\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tonEditorBlur(quill) {\r\n\t\t\t\t\tconsole.log('editor blur!', quill);\r\n\t\t\t\t\tconsole.log(this.form2.content);\r\n\t\t\t},\r\n\t\t\tonEditorFocus(quill) {\r\n\t\t\t\t\tconsole.log('editor focus!', quill);\r\n\t\t\t},\r\n\t\t\tonEditorReady(quill) {\r\n\t\t\t\t\tconsole.log('editor ready!', quill);\r\n\t\t\t},\r\n\t\t\tonEditorChange({ quill, html, text }) {\r\n\t\t\t\t\tconsole.log('editor change!', quill, html, text);\r\n\t\t\t\t\tthis.content = html;\r\n\t\t\t},\r\n\t\t\t// 文件上传的删除  和放大!\r\n\t\t\thandleRemove(file, fileList) {\r\n\t\t\t\t\talert('删除');\r\n\t\t\t\t\tconsole.log(file, fileList);\r\n\t\t\t},\r\n\t\t\thandlePictureCardPreview(file) {\r\n\t\t\t\t\tthis.dialogImageUrl = file.url;\r\n\t\t\t\t\tthis.dialogVisible = true;\r\n\t\t\t\t\tconsole.log(this.dialogImageUrl);\r\n\t\t\t\t\talert('放大');\r\n\t\t\t},\r\n\t\t\t fanhui(){\r\n        this.$confirm('返回已编辑内容将重置是否继续？')\r\n          .then(_ => {\r\n            this.$router.back();\r\n            done();\r\n          })\r\n          .catch(_ => {});\r\n      }\r\n    }\r\n};\r\n</script>\r\n<style type=\"text/css\">\r\n.market_add .el-upload--picture-card{\r\n\twidth: 80px;\r\n\theight: 80px;\r\n\tline-height: 88px;\r\n}\r\n.up_form .el-input__inner {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    max-width: 300px;\r\n}\r\n.up_form .quill-editor .ql-container {\r\n    min-height: 550px;\r\n}\r\n/*.app-container .app-page-body{\r\n\t\tmin-height: 890px !important;\r\n\t}*/\r\n\t.quill-editor .ql-toolbar.ql-snow{\r\n\t\theight: 60px;\r\n\t}\r\n\t.editor .el-form-item__content {\r\n\t\tline-height: 20px;\r\n\t}\r\n\t\r\n\t.up_form .el-input__inner{\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tmax-width: 300px;\r\n\t}\r\n\t.up_form .quill-editor .ql-container{\r\n\t\theight: 550px;\r\n\t\toverflow-y: auto;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/market-add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-body market_add\"},[_c('div',{staticClass:\"breadcrumb\",staticStyle:{\"padding\":\"8px\"}},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"内容中心\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"行业信息\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"添加行情\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"text-right\"},[_c('el-button',{staticClass:\"light_btn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.fanhui}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"light_btn\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toAudit1('form2',1)}}},[_vm._v(\"仅保存\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"light_btn\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.toAudit('form2',2)}}},[_vm._v(\"保存并提交审核\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"form2\",staticClass:\"up_form\",attrs:{\"model\":_vm.form2,\"label-width\":\"80px\",\"rules\":_vm.rules2}},[_c('div',{staticStyle:{\"width\":\"40%\",\"float\":\"left\",\"padding\":\"15px\",\"margin-left\":\"5%\",\"margin-right\":\"10%\"}},[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.form2.title),callback:function ($$v) {_vm.$set(_vm.form2, \"title\", $$v)},expression:\"form2.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"editor\",attrs:{\"label\":\"文章内容\",\"prop\":\"content\"}},[_c('m-quill-editor',{ref:\"myQuillEditor\",attrs:{\"width\":_vm.quill.width,\"getContent\":_vm.onEditorChange,\"has-border\":_vm.quill.border,\"zIndex\":_vm.quill.zIndex,\"sync-output\":_vm.quill.syncOutput,\"theme\":_vm.quill.theme,\"disabled\":_vm.quill.disabled,\"fullscreen\":_vm.quill.full},on:{\"upload\":_vm.uploadImg,\"blur\":function($event){_vm.onEditorBlur($event)}},model:{value:(_vm.form2.content),callback:function ($$v) {_vm.$set(_vm.form2, \"content\", $$v)},expression:\"form2.content\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"35%\",\"float\":\"left\",\"padding\":\"15px\"},attrs:{\"prop\":\"classifyType\"}},[_c('el-form-item',{attrs:{\"label\":\"发布到:\"}},[_c('el-input',{staticStyle:{\"width\":\"173px\"},attrs:{\"disabled\":true},model:{value:(_vm.form2.classifyTypes),callback:function ($$v) {_vm.$set(_vm.form2, \"classifyTypes\", $$v)},expression:\"form2.classifyTypes\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属分类\"}},[_c('el-select',{attrs:{\"name\":\"classifyType\",\"placeholder\":\"请选择\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.classifyType),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"fabuStyle\",attrs:{\"label\":\"发布账号:\",\"prop\":\"userId\",\"label-width\":\"82\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择发布账号\"},model:{value:(_vm.form2.userId),callback:function ($$v) {_vm.$set(_vm.form2, \"userId\", $$v)},expression:\"form2.userId\"}},_vm._l((_vm.accounts),function(item){return _c('el-option',{key:item.userId,attrs:{\"label\":item.nickName,\"value\":item.userId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"附加选项:\",\"prop\":\"imgType\",\"label-width\":\"82\"}},[_c('el-radio-group',{model:{value:(_vm.form2.imgType),callback:function ($$v) {_vm.$set(_vm.form2, \"imgType\", $$v)},expression:\"form2.imgType\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"上传缩略图\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"提取第一个图为缩略图\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"封面图\",\"required\":\"\"}},[_c('el-upload',{ref:\"upload\",attrs:{\"action\":_vm.getFullUrl(),\"name\":\"newsFile\",\"data\":_vm.uploadData,\"multiple\":false,\"limit\":1,\"list-type\":\"picture-card\",\"auto-upload\":false,\"on-preview\":_vm.handlePictureCardPreview,\"on-exceed\":_vm.fileOver,\"on-remove\":_vm.handleRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"Tag标签:\"}},[_c('el-input',{attrs:{\"placeholder\":\"用逗号隔开，单个标签少于12字节\"},model:{value:(_vm.form2.tagLabel),callback:function ($$v) {_vm.$set(_vm.form2, \"tagLabel\", $$v)},expression:\"form2.tagLabel\"}})],1)],1)])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d509dcca\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/market-add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d509dcca\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./market-add.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./market-add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./market-add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d509dcca\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./market-add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/market-add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}