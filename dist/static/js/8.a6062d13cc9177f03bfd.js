webpackJsonp([8],{"9L85":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("TIfe"),l={data:function(){return{radio:"",powerDia:!1,identityDia:!1,checkOp:[],checkList:[],idDetail:"",num1:0,num2:0,num3:0,num4:0,num5:0,num6:0,num7:0,num8:0,flag1:!0,flag2:!0,flag3:!0,flag4:!0,data1:{nickName:"",sex:"",userId:"",cityId:"",phone:"",birthday:"",idCard:"",userDesc:"",createTime:"",loginTime:"",mobileModel:"",fullUrl:""},data3:{mobileOs:""},activeName:"first",tableData:[],thirdAccount:[],baceUrl:""}},created:function(){this.baceUrl=Object(e.a)(),this.getParams(),this.baseInfo()},methods:{baseInfo:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,userId:this.idDetail};this.$post("/members/getBaseInfo",a).then(function(a){a.data&&(t.data1=a.data[0],t.radio=t.data1.rankCode,"2"==t.data1.sex?t.data1.sex1="女":1==t.data1.sex?t.data1.sex1="男":t.data1.sex1="未设置","100002"==t.data1.identityCode?t.data1.identityTrans="内部小号":"100003"==t.data1.identityCode?t.data1.identityTrans="内部大号":"100001"==t.data1.identityCode&&("1001"==t.data1.rankCode?t.data1.identityTrans="普通会员":t.data1.identityTrans="认证会员"))})},getParams:function(){var t=this.$route.params.id;this.idDetail=t},setIdentity:function(){this.identityDia=!0},setPower:function(){var t=this;this.powerDia=!0,this.$post("members/prohibit/findList",{tokenId:this.$store.state.user.tokenId,status:"1"}).then(function(a){t.checkOp=a.data;var s={tokenId:t.$store.state.user.tokenId,userId:t.idDetail};t.$post("members/getPermissions",s).then(function(a){a.data[0]&&(t.checkList=a.data[0].prohibitCodes.split(","))})})},changeIdentity:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,rankCode:this.radio,userId:this.idDetail};this.$post("/members/updateLevel",a).then(function(a){0==a.code&&(t.identityDia=!1,t.userId="",t.baseInfo(),t.$message({message:a.msg,type:"success"}))})},changePower:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,prohibitCodes:this.checkList.join(","),userId:this.idDetail};this.$post("members/setPermissions",a).then(function(a){console.log(a),0==a.code?(t.$message({message:a.msg,type:"success"}),t.powerDia=!1):t.$message({message:"设置失败请重试!",type:"error"})})},handleClick:function(t,a){console.log(t),"second"==t.name&&this.flag1?this.userData():"third"==t.name&&this.flag2?this.UserProhibit():"fourth"==t.name&&this.flag3?this.otherInfo():"fifth"==t.name&&this.flag4&&this.getThird()},userData:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,userId:this.idDetail};this.$post("members/getUserData",a).then(function(a){a.data.map(function(a){"news"==a.title?t.num1=a.num:"industry"==a.title?t.num2=a.num:"comment"==a.title?t.num3=a.num:"fans"==a.title?t.num4=a.num:"attentions"==a.title?t.num5=a.num:"goods"==a.title?t.num6=a.num:"follows"==a.title?t.num7=a.num:"wonGoods"==a.title&&(t.num8=a.num)}),t.flag1=!1})},UserProhibit:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,userId:this.idDetail};this.$post("/members/getUserProhibit",a).then(function(a){console.log(a.data),t.tableData=a.data,t.flag2=!1})},getThird:function(){var t=this;console.log("关联账号");var a={tokenId:this.$store.state.user.tokenId,userId:this.idDetail};this.$post("/members/getUserThird",a).then(function(a){console.log(a.data),t.thirdAccount=a.data,t.flag4=!1})},otherInfo:function(){var t=this,a={tokenId:this.$store.state.user.tokenId,userId:this.idDetail};this.$post("/members/getUserOtherInfo",a).then(function(a){if(a.data[0]){console.log(a.data);var s=a.data;t.data3=s[0],t.flag3=!1}})},miniTable:function(t){return"miniTable"}}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"page-body member_info"},[s("div",{staticClass:"page-header"},[s("div",{staticClass:"text-right"},[s("el-button",{staticClass:"light_btn",attrs:{size:"mini"},on:{click:function(a){t.$router.back()}}},[t._v("返回")]),t._v(" "),"100001"==t.data1.identityCode?s("el-button",{staticClass:"light_btn",attrs:{size:"small"},on:{click:t.setIdentity}},[t._v("身份设置")]):t._e(),t._v(" "),"100001"==t.data1.identityCode?s("el-button",{staticClass:"light_btn",attrs:{size:"small"},on:{click:t.setPower}},[t._v("权限设置")]):t._e()],1),t._v(" "),s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"基本信息",name:"first"}},[s("div",[s("p",{staticClass:"info_title"},[t._v("基本信息")]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:4}},[s("div",{staticClass:"avatar",staticStyle:{height:"217px"}},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.data1.headImgUrl,alt:"暂无头像"}})])]),t._v(" "),s("el-col",{attrs:{span:20}},[s("div",{staticClass:"el-table__body-wrapper is-scrolling-none info_table"},[s("table",{staticClass:"el-table el-table__body el-table--border",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[s("col",{attrs:{name:"el-table_1_column_1",width:"15%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_2",width:"35%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_3",width:"15%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_4",width:"35%"}})]),t._v(" "),s("tbody",[s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("昵称")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.nickName))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("性别")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.sex1))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("用户ID")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.userCode))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("城市")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.address))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("手机号")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.phone))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("生日")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.birthday))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("身份")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.identityTrans))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("简介")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.userDesc))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("注册时间")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.createTime))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("最后登录时间")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.loginTime))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("登录设备")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data1.mobileModel))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"})]),t._v(" "),s("td",[s("div",{staticClass:"cell"})])])])])])])],1)],1)]),t._v(" "),s("el-tab-pane",{attrs:{label:"用户数据",name:"second"}},[s("div",[s("p",{staticClass:"info_title"},[t._v("用户数据")]),t._v(" "),s("div",{staticClass:"el-table__body-wrapper is-scrolling-none info_table"},[s("table",{staticClass:"el-table el-table__body el-table--border",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[s("col",{attrs:{name:"el-table_1_column_1",width:"15%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_2",width:"35%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_3",width:"15%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_4",width:"35%"}})]),t._v(" "),s("tbody",[s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("发布文章")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num1))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("粉丝")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num4))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("发布行情")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num2))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("关注")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num5))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("发布广播")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("0")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("获赞")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num8))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("发布评论")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num3))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("喜欢收藏")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num6))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("跟踪")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.num7))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"})]),t._v(" "),s("td",[s("div",{staticClass:"cell"})])])])])])])]),t._v(" "),s("el-tab-pane",{attrs:{label:"用户权限",name:"third"}},[s("div",[s("p",{staticClass:"info_title"},[t._v("用户权限")]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{"row-class-name":t.miniTable,"header-row-class-name":t.miniTable,data:t.tableData,border:""}},[s("el-table-column",{attrs:{prop:"prohibitName",label:"用户权限",width:"220"}}),t._v(" "),s("el-table-column",{attrs:{prop:"nickName",label:"操作人",width:"220"}}),t._v(" "),s("el-table-column",{attrs:{prop:"createTime",label:"操作时间"}})],1)],1)]),t._v(" "),s("el-tab-pane",{attrs:{label:"关联账号",name:"fifth"}},[s("div",[s("p",{staticClass:"info_title"},[t._v("关联账号")]),t._v(" "),s("el-table",{staticStyle:{width:"800px"},attrs:{"row-class-name":t.miniTable,"header-row-class-name":t.miniTable,data:t.thirdAccount,border:""}},[s("el-table-column",{attrs:{prop:"name",label:"第三方",width:"220"}}),t._v(" "),s("el-table-column",{attrs:{prop:"openId",label:"openID/UnionId/关联账号"}}),t._v(" "),s("el-table-column",{attrs:{label:"状态",width:"220"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.isBinding?s("p",{staticClass:"yshx"},[t._v("已绑定")]):s("p",{staticClass:"yxx"},[t._v("未绑定")])]}}])})],1)],1)]),t._v(" "),s("el-tab-pane",{attrs:{label:"其他信息",name:"fourth"}},[s("div",[s("p",{staticClass:"info_title"},[t._v("其他信息")]),t._v(" "),s("div",{staticClass:"el-table__body-wrapper is-scrolling-none info_table"},[s("table",{staticClass:"el-table el-table__body el-table--border",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[s("colgroup",[s("col",{attrs:{name:"el-table_1_column_1",width:"25%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_2",width:"25%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_3",width:"25%"}}),t._v(" "),s("col",{attrs:{name:"el-table_1_column_4",width:"25%"}})]),t._v(" "),s("tbody",[s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("项目")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("参数")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("项目")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("参数")])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("操作系统")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.mobileOs))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("版本")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.mobileOsVersion))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("手机型号")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.mobileModel))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("DEVICEID")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.deviceId))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("IMEI")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.imei))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v("IMSI")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.imsi))])])]),t._v(" "),s("tr",{staticClass:"el-table__row"},[s("td",[s("div",{staticClass:"cell"},[t._v("DEVICEID")])]),t._v(" "),s("td",[s("div",{staticClass:"cell"},[t._v(t._s(t.data3.deviceId))])]),t._v(" "),s("td",[s("div",{staticClass:"cell"})]),t._v(" "),s("td",[s("div",{staticClass:"cell"})])])])])])])])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"修改用户权限",visible:t.powerDia,width:"30%",center:""},on:{"update:visible":function(a){t.powerDia=a}}},[s("div",[s("el-checkbox-group",{attrs:{id:"checkList"},model:{value:t.checkList,callback:function(a){t.checkList=a},expression:"checkList"}},t._l(t.checkOp,function(a){return s("el-checkbox",{key:a.id,attrs:{label:a.prohibitCode}},[t._v(t._s(a.prohibitName))])}))],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"light_btn",on:{click:function(a){t.powerDia=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{staticClass:"light_btn",attrs:{type:"primary"},on:{click:t.changePower}},[t._v("确 定")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"选择会员身份",visible:t.identityDia,width:"30%",center:""},on:{"update:visible":function(a){t.identityDia=a}}},[s("div",{staticClass:"text-center"},[s("el-radio",{attrs:{label:"1001"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("普通会员")]),t._v(" "),s("el-radio",{attrs:{label:"1002"},model:{value:t.radio,callback:function(a){t.radio=a},expression:"radio"}},[t._v("认证会员(带V身份标识）")])],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"light_btn",on:{click:function(a){t.identityDia=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{staticClass:"light_btn",attrs:{type:"primary"},on:{click:t.changeIdentity}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var d=s("VU/8")(l,i,!1,function(t){s("puEM")},null,null);a.default=d.exports},puEM:function(t,a){}});
//# sourceMappingURL=8.a6062d13cc9177f03bfd.js.map